"use strict";(self.webpackChunkharvester_docs=self.webpackChunkharvester_docs||[]).push([[8108],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=d(a),m=o,h=c["".concat(s,".").concat(m)]||c[m]||u[m]||r;return a?n.createElement(h,i(i({ref:t},p),{},{components:a})):n.createElement(h,i({ref:t},p))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:o,i[1]=l;for(var d=2;d<r;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},79717:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var n=a(87462),o=(a(67294),a(3905));const r={sidebar_position:3,sidebar_label:"USB Installation",title:"USB Installation"},i=void 0,l={unversionedId:"install/usb-install",id:"install/usb-install",title:"USB Installation",description:"Create a bootable USB flash drive",source:"@site/docs/install/usb-install.md",sourceDirName:"install",slug:"/install/usb-install",permalink:"/dev/install/usb-install",draft:!1,editUrl:"https://github.com/harvester/docs/edit/main/docs/install/usb-install.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,sidebar_label:"USB Installation",title:"USB Installation"},sidebar:"docs",previous:{title:"ISO Installation",permalink:"/dev/install/index"},next:{title:"PXE Boot Installation",permalink:"/dev/install/pxe-boot-install"}},s={},d=[{value:"Create a bootable USB flash drive",id:"create-a-bootable-usb-flash-drive",level:2},{value:"Rufus",id:"rufus",level:3},{value:"balenaEtcher",id:"balenaetcher",level:3},{value:"<code>dd</code> command",id:"dd-command",level:3},{value:"Known issues",id:"known-issues",level:2},{value:"A <code>GRUB _</code> text is displayed, but nothing happens when booting from a USB installation flash drive",id:"a-grub-_-text-is-displayed-but-nothing-happens-when-booting-from-a-usb-installation-flash-drive",level:3},{value:"Graphics issue",id:"graphics-issue",level:3},{value:"Harvester installer is not displayed",id:"harvester-installer-is-not-displayed",level:3}],p={toc:d},c="wrapper";function u(e){let{components:t,...r}=e;return(0,o.kt)(c,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("head",null,(0,o.kt)("link",{rel:"canonical",href:"https://docs.harvesterhci.io/v1.1/install/usb-install"})),(0,o.kt)("h2",{id:"create-a-bootable-usb-flash-drive"},"Create a bootable USB flash drive"),(0,o.kt)("p",null,"There are a couple of ways to create a USB installation flash drive."),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"No matter which tool you use, creating a bootable device erases your USB device data. Please back up all data on your USB device before making a bootable device.")),(0,o.kt)("h3",{id:"rufus"},"Rufus"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://rufus.ie/"},"Rufus")," allows you to create an ISO image on your USB flash drive on a Windows computer."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Open Rufus and insert a clean USB stick into your computer.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Rufus automatically detects your USB. Select the USB device you want to use from the ",(0,o.kt)("strong",{parentName:"p"},"Device")," drop-down menu.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"For ",(0,o.kt)("strong",{parentName:"p"},"Boot Selection"),", choose ",(0,o.kt)("strong",{parentName:"p"},"Select")," and find the Harvester installation ISO image you want to burn onto the USB."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"rufus.png",src:a(70520).Z,width:"696",height:"1054"})),(0,o.kt)("admonition",{parentName:"li",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If using older versions of Rufus, both ",(0,o.kt)("inlineCode",{parentName:"p"},"DD mode")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"ISO mode")," works. ",(0,o.kt)("inlineCode",{parentName:"p"},"DD mode")," works just like the ",(0,o.kt)("inlineCode",{parentName:"p"},"dd")," command in Linux, and you can't browse partitions after you create a bootable device. ",(0,o.kt)("inlineCode",{parentName:"p"},"ISO mode")," creates partitions on your device automatically and copies files to these partitions, and you can browse these partitions even after you create a bootable device.")))),(0,o.kt)("h3",{id:"balenaetcher"},"balenaEtcher"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.balena.io/etcher/"},"balenaEtcher")," supports writing an image to a USB flash drive on most Linux distros, macOS, and Windows. It has a GUI and is easy to use."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Select the Harvester installation ISO.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Select the target USB device to create a USB installation flash drive."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"balena-etcher.png",src:a(17740).Z,width:"1609",height:"955"})))),(0,o.kt)("h3",{id:"dd-command"},(0,o.kt)("inlineCode",{parentName:"h3"},"dd")," command"),(0,o.kt)("p",null,"You can use the 'dd' command on Linux or other platforms to create a USB installation flash drive. Ensure you choose the correct device; the following command erases data on the selected device."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"# sudo dd if=<path_to_iso> of=<path_to_usb_device> bs=64k\n")),(0,o.kt)("h2",{id:"known-issues"},"Known issues"),(0,o.kt)("h3",{id:"a-grub-_-text-is-displayed-but-nothing-happens-when-booting-from-a-usb-installation-flash-drive"},"A ",(0,o.kt)("inlineCode",{parentName:"h3"},"GRUB _")," text is displayed, but nothing happens when booting from a USB installation flash drive"),(0,o.kt)("p",null,"If you use the UEFI mode, try to boot from the UEFI boot partition on the USB device rather than the USB device itself. For example, select the ",(0,o.kt)("inlineCode",{parentName:"p"},"UEFI: USB disk 3.0 PMAP, Partition 1")," to boot. The representation varies from system to system."),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(41303).Z,width:"730",height:"492"})),(0,o.kt)("h3",{id:"graphics-issue"},"Graphics issue"),(0,o.kt)("p",null,"Firmwares of some graphic cards are not shipped in ",(0,o.kt)("inlineCode",{parentName:"p"},"v0.3.0"),"."),(0,o.kt)("p",null,"You can press ",(0,o.kt)("inlineCode",{parentName:"p"},"e")," to edit the GRUB menu entry and append ",(0,o.kt)("inlineCode",{parentName:"p"},"nomodeset")," to the boot parameters. Press ",(0,o.kt)("inlineCode",{parentName:"p"},"Ctrl + x")," to boot."),(0,o.kt)("p",null,(0,o.kt)("img",{src:a(63252).Z,width:"712",height:"399"})),(0,o.kt)("h3",{id:"harvester-installer-is-not-displayed"},"Harvester installer is not displayed"),(0,o.kt)("p",null,"If a USB flash driver boots, but you can't see the harvester installer, try one of the following workarounds:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Plug the USB flash drive into a USB 2.0 slot."),(0,o.kt)("li",{parentName:"ul"},"For version ",(0,o.kt)("inlineCode",{parentName:"li"},"v0.3.0")," or above, remove the ",(0,o.kt)("inlineCode",{parentName:"li"},"console=ttyS0")," parameter when booting. Press ",(0,o.kt)("inlineCode",{parentName:"li"},"e")," to edit the GRUB menu entry and remove the ",(0,o.kt)("inlineCode",{parentName:"li"},"console=ttyS0")," parameter.")))}u.isMDXComponent=!0},17740:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/balena-etcher-7fb3595af5c5e8ea2e5309c3600db8ef.png"},70520:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/rufus-b49c59ea369ff0bb2ddebab30c9bd5bb.png"},63252:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/usb-install-nomodeset-e6dc881f325fe4654dde2b0c8b94276b.png"},41303:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/usb-install-select-correct-partition-bd8f4425f8740b6aeafb90cfd3652748.jpg"}}]);